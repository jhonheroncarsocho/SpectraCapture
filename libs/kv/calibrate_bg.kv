#:import MatplotFigure graph_widget
#:kivy 2.2.1

<CalibrateBG>
    name: 'cal_bg'
    figure_wgt2:figure_wgt2

    canvas.before:
        Color:
            rgba: 0.7215, 0.451, 0.2, 1  # First color (in RGBA)
        Rectangle:
            pos: self.pos
            size: self.size
            source: ''

    MDBoxLayout:
        orientation:'vertical'
        MDLabel:
            text: "Background Spectrum"
            font_name: './assets/fonts/IMPACT.TTF'
            size_hint_y: .1
            halign: 'center'
        
        MatplotFigure:
            id: figure_wgt2
        MDBoxLayout:
            size_hint_y:0.2
            padding: '10dp'
            spacing: 5
            
            MDRectangleFlatButton:
                size_hint_x: 0.333
                size_hint_y: None
                text:"Back"
                theme_text_color: "Custom"
                font_name: './assets/fonts/IMPACT.TTF'
                text_color: 0.7215, 0.451, 0.2, 1 #Brown
                line_color: 0.7215, 0.451, 0.2, 1 #Brown
                md_bg_color: 'white'
                on_release:
                    root.disable_clock()
                    app.root.current = 'cal_dark'
                    
            MDRectangleFlatButton:
                id: capture_bg
                size_hint_x: 0.333
                size_hint_y: None
                text:"Capture" 
                theme_text_color: "Custom"
                font_name: './assets/fonts/IMPACT.TTF'
                text_color: 0.7215, 0.451, 0.2, 1 #Brown
                line_color: 0.7215, 0.451, 0.2, 1 #Brown
                md_bg_color: 'white'
                on_release:
                    root.disable_clock()
                    root.activate_capture()
            
            MDRectangleFlatButton:
                id: rescan_bg
                disabled: True
                size_hint_x: 0.333
                size_hint_y: None
                text:"Rescan" 
                theme_text_color: "Custom"
                font_name: './assets/fonts/IMPACT.TTF'
                text_color: 0.7215, 0.451, 0.2, 1 #Brown
                line_color: 0.7215, 0.451, 0.2, 1 #Brown
                md_bg_color: 'white'
                on_release:
                    root.activate_rescan()
                    root.on_enter()

            MDRectangleFlatButton:
                id: next_bg
                disabled: True
                size_hint_x: 0.333
                size_hint_y: None
                text:"Next"  
                theme_text_color: "Custom"
                font_name: './assets/fonts/IMPACT.TTF'
                text_color: 0.7215, 0.451, 0.2, 1 #Brown
                line_color: 0.7215, 0.451, 0.2, 1 #Brown
                md_bg_color: 'white'
                on_release:
                    app.root.current = 'cal_light'
                                  
        